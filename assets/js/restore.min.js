window.BWU=window.BWU||{},function(e,o,t,r,s,n,c){"use strict";n(window).load(function(){var a=t("?step")?t("?step"):1,i=document.querySelector("#restore_step"),l=i?i.getAttribute("data-nonce"):"",d=e.Restore.FactoryStrategy(o,l),u=e.Restore.FactoryMigrate(o,l),w=e.DecrypterFactory(o,document.querySelector("#decrypt_key"),document.querySelector("#decryption_key")),y=e.Restore.FactoryDatabaseRestore(o,l,{onMessageCallback:function(e){n("#restore_progress").text(c.restoringPrefix+e.message)},onSuccessCallback:function(){e.Restore.Functions.loadNextStep(6,l)}}),p=e.Restore.FactoryFilesRestore(o,l,{onMessageCallback:function(e){n("#restore_progress").text(c.restoringPrefix+e.message)},onSuccessCallback:function(){y.init().restore()}}),g=e.Restore.FactoryDecompress(o,l,t("?restore_file")),f=e.Restore.FactoryDownload(o,l,t("?file"),t("?service"),t("?jobid"),t("?restore_file")),F=e.Restore.FactoryController(o,l,t,r,document.querySelector("#drag-drop-area"),d,y,p,g,f,w,u);F&&(F.init(),s.isFunction(F["step"+a])&&F["step"+a]())})}(window.BWU,window.ajaxurl,window.url,window.plupload,window._,window.jQuery,window.backwpupRestoreLocalized);